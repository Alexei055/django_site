{% extends "main/base.html" %} {# подключение основного файла фаблона #}
{% load custom-filters %} {# подключение файла с фильтром из папки templatetag #}
{% block content %} {# основной блок контента #}

<div class="home">
    <article>
        <div class="title">
            <h3>Статьи</h3>
        </div>
        <div class="album py-5" style="margin-left: -5px; padding-top: 0px !important;">
            <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 card-color-dark">
                    {% for item in articles %} {# создание сетки статей при помощи цикла for #}
                        <a class="article-item body-2 redirect" style = "background: url({{ item.image.url }}) no-repeat scroll 50% 50%; background-size: cover !important; padding-right: 0px;padding-left: 0px; margin-right: 15px; width: 350px; border-radius: 8px;"href={% url 'articles-detail' item.id %} >
                            <div id="article" style="text-align: left">
                                <div class="col">
                                    <div class="shadow-sm"
                                         style="border:1px solid #424242;border-radius: 8px; height:352px">
                                        <div id="card-container">
                                            <span class="caption-1">{{ item.pub_date | date:"d-m-Y H:i" }}</span>
                                            <div class="text">
                                                <h4 style="color:inherit">
                                                    {{ item.title | safe }}
                                                </h4>
                                                <span class="body-2">{{ item.content | striptags | nbsp2space | slice:":20" }}...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    {% endfor %} {# на каком моменте надо цикл for закончить #}
                </div>
            </div>
        </div>
    </article>
</div>
{% endblock %}
